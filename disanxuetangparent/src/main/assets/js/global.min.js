function getQueryString(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i");var c=window.location.search.substr(1).match(b);if(c!=null){return decodeURI(c[2])}else{return""}}function getzf(a){if(parseInt(a)<10){a="0"+a}return a}function getMyDate(f){var d=new Date(f),e=d.getFullYear(),b=d.getMonth()+1,c=d.getDate(),a=e+"-"+getzf(b)+"-"+getzf(c);return a}var common={toFloat:function(d,c){return(d/10000).toFixed(c?c:2)}};var Token,linkUrl;var teacherId=getQueryString("teacherId")===""?25:getQueryString("teacherId");var userDifferentiation=2;if(getQueryString("linkUrl")===""){if(getQueryString("userDifferentiation")==1||userDifferentiation==1){linkUrl="http://10.8.1.204/3rdedu/"}else{if(getQueryString("userDifferentiation")==2||userDifferentiation==2){linkUrl="http://10.8.1.204/3rdeduBase/"}}}else{linkUrl=getQueryString("linkUrl");userDifferentiation=getQueryString("userDifferentiation")}if(getQueryString("linkUrl")==""){if(userDifferentiation==1){Token="eyJ0eXBlIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJsb2dpbk1vYmlsZSI6IjEzMDAwMDAwMDA3IiwibG9naW5Db2RlIjoiNTYiLCJsb2dpblRpbWUiOjE1MjU5MzI5MTM1ODIsImlzcyI6InN6eS4zcmQiLCJhdWQiOiIwOThmNmJjZDQ2MjFkMzczY2FkZTRlODMyNjI3YjRmNiJ9.4VrPw5qJCX8lPY26kYjloR7fFIEBi1ER_TWx09K6sAE"}else{Token=""}}else{if(userDifferentiation==1){Token=getQueryString("token")}else{Token=""}}var key=CryptoJS.enc.Utf8.parse("MrQz9Nq8mNOpcFNI");var iv=CryptoJS.enc.Utf8.parse("dMitHORyqbeYVE0o");function encrypt(b){var a=CryptoJS.AES.encrypt(b,key,{iv:iv,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return JSON.stringify({sign:a.toString()})}function Decrypt(b){var b=b.replace(/(\r\n)|(\n)/g,"");var a=CryptoJS.AES.decrypt(b,key,{iv:iv,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});var c=a.toString(CryptoJS.enc.Utf8);return c}var ajaxUtil=function(){var a=function(e,d){var c=e.data.json==undefined?e.data:encrypt(e.data.json);e.url=linkUrl+e.url;var b={type:e.type,url:e.url,cache:false,data:c,beforeSend:function(f){f.setRequestHeader("authorization",Token),f.setRequestHeader("Client-Info","ShengZheYuan;1.0;pc;1.0;pc;win8"),f.setRequestHeader("Content-Type","application/json;charset=utf-8")},success:function(f){if(typeof(f)=="string"||typeof(f)=="String"){f=JSON.parse(f)}var g=JSON.parse(Decrypt(f.sign));if(g.error_code=="222222"){d(g)}},error:function(f,g){console.log(f)},complete:function(){}};if(e.dataType!=""){b.dataType=e.dataType}if(e.contentType!=""&&e.async!=""){b.contentType=e.contentType}$.ajax(b)};return{ajaxGet:function(c,b){c.type="GET";c.dataType="";c.contentType="";a(c,b)},ajaxPost:function(c,b){c.type="POST";c.dataType="";a(c,b)},ajaxJson:function(c,b){c.type="POST";c.dataType="json";c.contentType="application/json;charset=utf-8";a(c,b)},ajaxJsonp:function(c,b){c.type="Get";c.dataType="jsonp";c.contentType="";c.async=false,a(c,b)}}}();